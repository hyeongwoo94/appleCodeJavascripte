<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- 부트스트랩css -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"
        integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <title>로컬에데이터저장(장바구니)</title>
</head>


<body>
    <div class="container">
        <div class="row">
            <!-- <div class="col-sm-4">
                <img src="https://via.placeholder.com/600" class="w-100">
                <h5>Card title</h5>
                <p>가격 : 70000</p>
            </div> -->

        </div>

    </div>
    <div class="result">
    </div>



    <script>
        var products = [
            { id: 0, price: 70000, title: 'Blossom Dress' },
            { id: 1, price: 50000, title: 'Springfield Shirt' },
            { id: 2, price: 60000, title: 'Black Monastery' }
        ];
        //처음 리스트 3개
        products.forEach((data, i) => {
            var 템플릿 = `
            <div class="col-sm-4">
                <img src="https://via.placeholder.com/600" class="w-100">
                <h5 class="name" value="${data.title}">${data.title}</h5>
                <p>가격 : ${data.price}</p>
                <button class="btn btn-primary buy" data-id='${i}'>구매하기</button>
            </div>
        `;
            document.querySelector('.row').insertAdjacentHTML('beforeend', 템플릿);

        })
        $('.buy').click(function (e) {
            var title = $(e.target).siblings('h5').text();
            if (localStorage.getItem('cart') != null) {
                var 꺼낸거 = JSON.parse(localStorage.cart);
                꺼낸거.push(title);
                localStorage.setItem('cart', JSON.stringify(꺼낸거));

                //}
            } else {
                localStorage.setItem('cart', JSON.stringify([title]));
            }

        })
        // var result = JSON.parse(localStorage.cart);
        // console.log(result[0]);
        // console.log(result[1]);
        // console.log(result[2]);
        // $('.result').html(result);


        // 구매하기 누르면 localStorage에 저장하기

        // localStorage.setItem('이름', '바보');
        // localStorage.setItem('나이', '20');
        // localStorage.setItem('지역', '한국');
        // localStorage.setItem('자산', '1억');
        // localStorage.getItem('이름');
        // localStorage.removeItem('자산');


        //array강제로 문자로 만들어서 로컬에 저장하는법
        // var arr = [1, 2, 3];
        // var newArr = JSON.stringify(arr);
        // //제이슨으로 강제로 문자로 바꿈
        // localStorage.setItem('제이선', newArr);
        // var 꺼낸거 = localStorage.getItem('제이선');

        //제이슨으로 문자를 다시 array로 만들어주기
        //console.log(JSON.parse(꺼낸거));
    </script>
</body>

</html>